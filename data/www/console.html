<!doctype html>
<html>
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>K2UartBriage - Console</title>
  <link rel="stylesheet" href="/app.css">
</head>
<body>

  <div class="k2-topbar">
    <div class="k2-toprow">
      <div class="k2-brand">
        <b id="appName">K2UartBriage - UART Console</b>
        <span id="appVer" class="small" style="margin-left:8px;opacity:.85">v?</span>
        <span id="subTitle">UART Rescue / Firmware Utilities / Diagnostics</span>
        <span class="small" style="margin-top:4px">
          Host: <code id="hostName">...</code>
        </span>
      </div>

      <div id="st" class="k2-pill bad"><div class="k2-dot"></div><span>WS: disconnected</span></div>
    </div>

    <div class="k2-subrow">
      <div id="navTabs" class="k2-tabs">
        <a class="k2-tab" href="/#rescue">UART Rescue</a>
        <a class="k2-tab" href="/#fw">Firmware Utilities</a>
        <a class="k2-tab" href="/#diag">Diagnostics</a>
        <a class="k2-tab active" href="/console">Console</a>
      </div>

      <div class="small">
        WebSocket: <span class="mono">/_sys/ws</span> (send adds <span class="mono">\n</span>)
      </div>
    </div>
  </div>

  <div class="k2-wrap">
    <div class="k2-card">
      <div id="out" class="k2-console"></div>

      <div class="k2-row" style="display:flex;gap:10px;flex-wrap:wrap;align-items:center;margin-top:10px">
        <input id="in" class="k2-input" placeholder="Type and press Enter or Send (adds \n)"/>
        <button class="k2-btn primary" onclick="sendLine()">Send</button>
        <button class="k2-btn" onclick="clearOut()">Clear</button>
        <a href="/"><button class="k2-btn ghost" type="button">Back</button></a>
      </div>
    </div>
  </div>

  <script src="/app.js"></script>
  <script>
    loadHeaderModels().then(()=>{});
    initConsolePage();
  </script>
</body>
</html>